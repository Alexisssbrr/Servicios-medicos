
@{
    ViewData["Title"] = "Index";
}
<div class="container mt-5">
    <div class="container mt-4">
        <div class="row justify-content-center">
            <div class="col-md-6">
                <div class="input-group mb-4 shadow-sm">
                    <span class="input-group-text bg-white border-end-0">
                        <i class="bi bi-search"></i> 🔍
                    </span>
                    <input type="text" id="buscadorAlumno" class="form-control border-start-0 ps-0"
                           placeholder="Buscar por nombre o matrícula..."
                           onkeyup="filtrarAlumnos()">
                </div>
            </div>
        </div>
    </div>

    <div class="row row-cols-1 row-cols-sm-2 row-cols-lg-4 g-4">

        <div class="col">
            <div class="card h-100 shadow-sm border-0 pt-3">
                <div class="text-center">
                    <img src="https://i.pravatar.cc/150?u=1" class="rounded-circle border" style="width: 100px; height: 100px;" alt="Alumno">
                </div>
                <div class="card-body text-center">
                    <h6 class="card-title mb-1">Juan Pérez</h6>
                    <p class="text-muted x-small mb-2">Mat: 20230001</p>
                    <span class="badge bg-info text-dark" style="font-size: 0.7rem;">Ing. Sistemas</span>
                    <hr>

                    <a class="btn btn-sm btn-outline-primary w-100"
                       asp-area=""
                       asp-controller="Home"
                       asp-action="History"
                       asp-route-id="20230001">
                        Ver Historial
                    </a>
                </div>
            </div>
        </div>

    </div>
</div>

<script>
    function filtrarAlumnos() {
        // Obtenemos el texto del buscador
        let filtro = document.getElementById('buscadorAlumno').value.toLowerCase();
        // Obtenemos todas las tarjetas de alumnos
        let tarjetas = document.querySelectorAll('.col');

        tarjetas.forEach(tarjeta => {
            // Buscamos el nombre y la matrícula dentro de la tarjeta
            let nombre = tarjeta.querySelector('.card-title').innerText.toLowerCase();
            let matricula = tarjeta.querySelector('.text-muted').innerText.toLowerCase();

            // Si coincide con el filtro, la mostramos; si no, la ocultamos
            if (nombre.includes(filtro) || matricula.includes(filtro)) {
                tarjeta.style.display = "";
            } else {
                tarjeta.style.display = "none";
            }
        });
    }
</script>